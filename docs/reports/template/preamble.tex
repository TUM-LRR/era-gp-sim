%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% BASIC                                                %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\documentclass[12pt]{report}
\usepackage[a4paper, margin=1in]{geometry}

\setlength{\headheight}{15pt}
\setlength{\parindent}{0pt}
\addtolength{\parskip}{\baselineskip}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% LANGUAGE                                             %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% German

\usepackage[utf8]{inputenc} % This is needed for umlauts
\usepackage[ngerman]{babel} % This is needed for umlauts
\usepackage[T1]{fontenc}    % This is needed for umlauts in PDFs

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% TYPOGRAPHY                                           %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage{libertine}
\usepackage[libertine]{newtxmath}
\usepackage{multirow}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% MATH                                                 %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{gensymb}
\usepackage{xfrac}

\everymath{\displaystyle}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% DRAWING                                              %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage[usenames, dvipsnames]{xcolor}

\usepackage{tikz}
\usepackage{tikz-qtree}
\usetikzlibrary{3d}
\usetikzlibrary{shapes}
\usetikzlibrary{shadings}
\usetikzlibrary{shadows}
\usetikzlibrary{positioning}
\usetikzlibrary{arrows, arrows.meta}
\usetikzlibrary{trees}
\usetikzlibrary{calc}

\usepackage{tcolorbox}
\tcbuselibrary{skins,breakable}

\usepackage{float}

% GRAPH STUFF
\pgfdeclarelayer{background}
\pgfdeclarelayer{foreground}
\pgfsetlayers{background,main,foreground}
\tikzstyle{class} = [rectangle, rounded corners, draw=black, fill=white, drop shadow]
\tikzstyle{inheritance-arrow} = [->, thick,>=open triangle 90,every node/.style={font=\sffamily\small}]
\tikzstyle{composition-arrow} = [{Diamond}-,every node/.style={font=\sffamily\small}]
\tikzstyle{dashed-arrow} = [->, dashed]
\tikzstyle{empty} = [draw=none,fill=none]

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% CODE                                                 %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage{listings}
\usepackage{zi4}

\definecolor{stringgreen}{RGB}{50,220,15}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}

\lstdefinelanguage [riscv]{Assembler}{
  morekeywords={
	 .RESB
	 ADDI,
	 AND,
	 ANDI,
	 AUIPC,
	 BEQ,
	 BGE,
	 BGEU,
	 BLT,
	 BLTU,
	 BNE,
	 DIV,
	 DIVU,
	 JAL,
	 JALR,
	 LB,
	 LBU,
	 LH,
	 LHU,
	 LUI,
	 LW,
	 MUL,
	 MULH,
	 MULHSU,
	 MULHU,
	 OR,
	 ORI,
	 REM,
	 REMU,
	 SB,
	 SBU,
	 SH,
	 SHU,
	 SLA,
	 SLAI,
	 SLL,
	 SLLI,
	 SLT,
	 SLTI,
	 SLTIU,
	 SLTU,
	 SRA,
	 SRAI,
	 SRL,
	 SRLI,
	 SW,
	 XOR,
	 XORI,
   ADD,
  },
  sensitive=false,
  morecomment=[l]{;},
}

\lstdefinelanguage{ISA}{
  alsoletter=-,
  morekeywords={
    alignment-behavior,
    builtin-macros,
    byte-size,
    endianness,
    extends,
    format,
    funct,
    funct3,
    funct7,
    id,
    instructions,
    key,
    length,
    mnemonic,
    name,
    opcode,
    operand,
    registers,
    signed-representation,
    size,
    type,
    units,
    word-size,
  },
  sensitive=false,
  morecomment=[l]{\#}
}


\lstnewenvironment{c++}{\lstset{language=C++}}{}
\lstnewenvironment{riscv}{\lstset{language={[riscv]Assembler}}}{}
\lstnewenvironment{x86}{\lstset{language={[x86masm]Assembler}}}{}

\lstset{
  basicstyle=\small\fontfamily{zi4}\selectfont,
  aboveskip=3mm,
  belowskip=3mm,
  showstringspaces=false,
  columns=flexible,
  numbers=none,
  emphstyle=\color{orange},
  numberstyle=\tiny\color{red},
  keywordstyle=\color{magenta},
  commentstyle=\color{gray},
  stringstyle=\color{stringgreen},
  breaklines=true,
  breakatwhitespace=true,
  tabsize=2,
  extendedchars=true,
  literate=
	{á}{{\'a}}1 {é}{{\'e}}1 {í}{{\'i}}1 {ó}{{\'o}}1 {ú}{{\'u}}1
	{Á}{{\'A}}1 {É}{{\'E}}1 {Í}{{\'I}}1 {Ó}{{\'O}}1 {Ú}{{\'U}}1
	{à}{{\`a}}1 {è}{{\`e}}1 {ì}{{\`i}}1 {ò}{{\`o}}1 {ù}{{\`u}}1
	{À}{{\`A}}1 {È}{{\'E}}1 {Ì}{{\`I}}1 {Ò}{{\`O}}1 {Ù}{{\`U}}1
	{ä}{{\"a}}1 {ë}{{\"e}}1 {ï}{{\"i}}1 {ö}{{\"o}}1 {ü}{{\"u}}1
	{Ä}{{\"A}}1 {Ë}{{\"E}}1 {Ï}{{\"I}}1 {Ö}{{\"O}}1 {Ü}{{\"U}}1
	{â}{{\^a}}1 {ê}{{\^e}}1 {î}{{\^i}}1 {ô}{{\^o}}1 {û}{{\^u}}1
	{Â}{{\^A}}1 {Ê}{{\^E}}1 {Î}{{\^I}}1 {Ô}{{\^O}}1 {Û}{{\^U}}1
	{œ}{{\oe}}1 {Œ}{{\OE}}1 {æ}{{\ae}}1 {Æ}{{\AE}}1 {ß}{{\ss}}1
	{ű}{{\H{u}}}1 {Ű}{{\H{U}}}1 {ő}{{\H{o}}}1 {Ő}{{\H{O}}}1
	{ç}{{\c c}}1 {Ç}{{\c C}}1 {ø}{{\o}}1 {å}{{\r a}}1 {Å}{{\r A}}1
	{€}{{\euro}}1 {£}{{\pounds}}1 {«}{{\guillemotleft}}1
	{»}{{\guillemotright}}1 {ñ}{{\~n}}1 {Ñ}{{\~N}}1 {¿}{{?`}}1
}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% OTHER                                                %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage{caption}
\usepackage{cancel}
\usepackage{hyperref}
\usepackage{booktabs}
\usepackage{import}
\usepackage{todonotes}
\usepackage{url}
\usepackage{array}

\usepackage{csquotes}
\MakeOuterQuote{"}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% HEADERS + FOOTERS                                    %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage{fancyhdr}

\pagestyle{fancy}
\fancyhf{}
\renewcommand{\headrulewidth}{0mm}
\renewcommand{\footrulewidth}{0.2mm}
\fancyfoot[l]{ERA Großpraktikum}
\fancyfoot[c]{\thepage}
\fancyfoot[r]{\today}

\fancypagestyle{plain}{%
  \fancyhf{}
  \renewcommand{\headrulewidth}{0mm}%
  \renewcommand{\footrulewidth}{0.2mm}%
  \fancyfoot[l]{ERA Großpraktikum}
  \fancyfoot[c]{\thepage}
  \fancyfoot[r]{\today}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% NEW COMMANDS                                         %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\bolditem}[1]{\item \textbf{#1}}
\newcommand{\emphitem}[1]{\item \emph{#1}}
\newcommand{\titleitem}[1]{\bolditem{#1} \par}

\newcommand{\email}[2]{\href{mailto:#1.#2@tum.de}{#1.#2@tum.de}}

\DeclareSymbolFont{extraup}{U}{zavm}{m}{n}
\DeclareMathSymbol{\varheart}{\mathalpha}{extraup}{86}

\newcommand{\code}[1]{\lstinline{#1}}

\newcommand{\erasim}{{\fontfamily{zi4}\selectfont ERASIM}}

\newcommand{\smallurl}[1]{{\small\url{#1}}}

\newcommand{\cyclearrow}{
  \hspace{-0.5cm}
  \scalebox{0.8}{
  \tikz[thick, yshift=-0.2cm]{
    \node (a) at (0, -0.15) {};
    \node (b) at (0.8, -0.15) {};
    \draw [->] (a) .. controls (0.38, 0) and (0.42, 0) .. (b);
    \draw [<-] (a) .. controls (0.38, -0.3) and (0.42, -0.3) .. (b);
  }
  }
  \hspace{-0.4cm}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% RENEW COMMANDS                                       %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% \renewcommand\thechapter{\Roman{chapter}}
% \renewcommand\thesection{\roman{section}}

\makeatletter
\renewcommand{\subsection}{%
  \@startsection{subsection}{2}%
  {\z@}{0.1cm}{0.1cm}%
  {\normalfont\fontsize{16}{18}\bfseries}%
}
\makeatother

\makeatletter
\renewcommand{\subsubsection}{%
  \@startsection{subsubsection}{3}%
  {\z@}{0.08cm}{0.08cm}%
  {\normalfont\large\bfseries}%
}
\makeatother

\makeatletter
\renewcommand{\paragraph}{%
  \@startsection{paragraph}{4}%
  {\z@}{0.1cm}{0.1cm}%
  {\normalfont\normalsize\bfseries}%
}
\makeatother

\makeatletter
\renewcommand{\subparagraph}{%
  \@startsection{paragraph}{5}%
  {\z@}{0.1cm}{0.1cm}%
  {\normalfont\normalsize\em}%
}
\makeatother

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% NEW ENVIRONMENTS                                     %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newenvironment{senumerate}[1]
{
  \vspace{#1}
  \begin{enumerate}
}
{
  \end{enumerate}
}

\newenvironment{sitemize}[1]
{
  \vspace{#1}
  \begin{itemize}
}
{
  \end{itemize}
}


\newenvironment{plot}[1][h]
{
  \begin{figure}[#1]
    \centering
    \begin{tikzpicture}
}
{
    \end{tikzpicture}
  \end{figure}
}

\newenvironment{exampleblock}[1]
{
    \tcolorbox[%
      title filled,%
      noparskip,%
      breakable,%
      title={\large\fontfamily{zi4}\selectfont #1}
    ]
}
{
  \endtcolorbox
}

\newenvironment{infoblock}[1]
{
    \tcolorbox[%
      title filled,%
      colback=Green,%
      noparskip,%
      breakable,%
      title={\large\fontfamily{zi4}\selectfont #1}
    ]
}
{
  \endtcolorbox
}

\newenvironment{warningblock}[0]
{
    \tcolorbox[%
      title filled,%
      colback=Dandelion!50!white,%
      noparskip,%
      breakable,%
      title={\large\fontfamily{zi4}\selectfont Vorsicht}
    ]
}
{
  \endtcolorbox
}
